앱 내부 저장소에서 비디오 파일을 가져와서 음성을 추출한 뒤에, 해당 음성 파일을 사용자가 원하는
언어로 번역해서 자막으로 표시하는 기능을 제공하는 안드로이드 앱을 만들려고 해.

세부적인 요구사항은 다음과 같아.

1. 앱에는 두개의 화면 "갤러리 화면"과 "재생 화면" 으로 구성된다.
2. 앱 내부 저장소에서 비디오 파일을 가져온다.
    2-1. 안드로이드 15 버전을 타겟팅 하기 때문에 Photo picker 를 이용
    2-2. 사용자가 photo picker 에서 가져온 비디오 파일을 갤러리 형태로 "갤러리 화면"에 노출한다.
        2-2-1. "갤러리 화면"은 가로 4칸, 세로 N칸 의 격자형으로 노출된다.
        2-2-2. 한개의 아이템(비디오 파일)은 비디오의 첫 프레임 사진과 제목이 노출된다.
        2-2-3. 가져온 비디오 파일이 없다면, "비어 있음" 이라는 문구를 노출한다.
3. 사용자가 "갤러리 화면"에서 재생하고 싶은 아이템(비디오 파일)을 선택한다.
    3-1. 선택된 비디오 파일의 음성을 추출한다.
    3-2. 추출된 음성을 google cloud 의 speech-to-text api 를 활용하여 텍스트로 변환한다.
    3-3. 텍스트는 google cloud 의 translation api 를 활용하여 사용자가 선택한 언어로 번역한다.
    3-4. 번역된 텍스트는 exoplayer 의 자막으로 노출되야 하므로 timeStamp 값이 포함되어야 한다.
    3-5. 최초 변환된 자막은 외부에서 이용할 수 없도록 앱 내부 데이터로 저장한 후, 재사용 한다.
4. 선택된 비디오 파일의 "재생 화면"으로 전환되고, 비디오 파일을 재생하면서 자막을 함께 노출한다.
5. "재생 화면"에는 비디오, 재생 위치(seek bar), 재생 컨트롤러(이전 비디오, 중지/재생, 다음 비디오), 언어 설정 버튼이 존재한다.
    5-1. 비디오의 크기는 화면의 넓이에 horizontal 의 16.dp 만큼의 패딩을 제외한 크기를 갖고, 높이는 넓이에 비례한다.
    5-2. 재생 위치는 seek bar 로 구성되며, seek bar 의 변화가 재생 지점에 영향을 미쳐야 한다.
    5-3. photo picker 에 의해 가져온 모든 비디오를 플레이 리스트에 삽입하고, 재생 컨트롤러에 의해 이전 혹은 다음 비디오를 재생시키거나 현재 비디오를 재생 혹은 중단시킬 수 있다.
    5-4. 언어 설정 버튼은 비디오 노출 부분 위에 overlay 되며, 사용자가 클릭하면 언어 설정을 위한 Menu 가 노출된다.
        5-4-1. 메뉴에서 4개의 언어(한국어, 영어, 일본어, 중국어-간체, 중국어-번체) 를 선택할 수 있다.
        5-4-2. 언어 선택시 내부 저장소(DataStore)에 BCP-47 태그값을 저장하고, 이 값을 가져와 translation api 의 번역을 요청할 때 파라미터로 사용한다.
        

유의사항 은 다음과 같아.

1. 비디오 재생은 media3.exoplayer 이용한다.
2. 구글 권장 아키텍처를 기반으로 ui 로직, 비즈니스 로직, 데이터 로직에 대한 관심사를 분리한다.
    2-1. 구글 권장 아키텍처는 https://developer.android.com/topic/architecture/recommendations?hl=ko 에서 참조한다.
    2-2. 도메인 레이어는 생략하며 app, features(presentation layer), data, design, build-logic 모듈이 존재한다.
        2-2-1. features 모듈의 gallery 모듈에 "갤러리 화면" 이 존재하고, features 의 player 모듈에 "재생 화면" 이 위치한다.
            2-2-1-1. 각 features 의 내부 모듈들에 각각의 화면에 사용되는 ui 로직과 비즈니스 로직은 AAC-ViewModel 내부에 위치한다.
        2-2-2. data 모듈은 features 모듈에서 참조하는 데이터 입출력과 관련된 모듈로 외부 저장소 또는 내부 저장소에 접근하는 데이터 로직이 위치한다.
        2-2-3. design 모듈에는 features 모듈에서 참조하는 디자인 컴포넌트들을 재사용하는 목적으로 사용한다.
        2-2-4. build-logic 모듈에는 모든 프로젝트 내부 모듈에서 사용하는 빌드 로직의 재사용 목적으로 사용한다.\
        2-2-5. app 모듈에는 Activity, Application 과 전역적으로 사용되는 AdMob 과 InAppUpdate 관련 로직들을 캡슐화한 클래스, Compose-Navigation 을 관리하는 Router 등의 클래스가 존재한다.
3. 언어는 코틀린 언어로 작성하고, 최대한 코틀린 extension 라이브러리와 같은 코틀린 패키지의 함수들을 이용한다.
4. ui 코드는 compose 프레임워크를 이용하여 작성하며, 다른 화면들에서 재 사용 가능한 단위의 컴포넌트들은 design 모듈에 정의하여 사용한다.
5. 기존 파일의 모든 코드를 기반으로 이용하면서, 기존의 모든 파일을 일체 수정하지 않아야 한다.